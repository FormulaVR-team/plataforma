RECURRENTESS:

https://developer.paypal.com/docs/classic/express-checkout/ht_ec-recurringPaymentProfile-curl-etc

https://developer.paypal.com/docs/classic/express-checkout/integration-guide/ECRecurringPayments/

FLUJO:
https://www.paypalobjects.com/webstatic/en_US/developer/docs/ec/RecurringPaymentsFlowUX.gif

Request
-------
Endpoint URL: https://api-3t.sandbox.paypal.com/nvp
HTTP method: POST
POST data:
USER=insert_merchant_user_name_here
&PWD=insert_merchant_password_here
&SIGNATURE=insert_merchant_signature_value_here
&METHOD=SetExpressCheckout
&VERSION=86
&L_BILLINGTYPE0=RecurringPayments    #The type of billing agreement
&L_BILLINGAGREEMENTDESCRIPTION0=FitnessMembership    #The description of the billing agreement
&cancelUrl=http://www.yourdomain.com/cancel.html    #For use if the consumer decides not to proceed with payment
&returnUrl=http://www.yourdomain.com/success.html   #For use if the consumer proceeds with payment

Response
--------
TOKEN=EC%2d2B984685J43051234
&ACK=Success
...

============================================================
============================================================
To create a recurring payments profile with Express Checkout:

	1 Setting up the payment authorization.
	2 Redirecting the customer to PayPal for authorization.
	3 Obtaining customer details.
	4 Creating the recurring payments profile.
	5 Optionally, reviewing the recurring payments profile.

Tip: Review the recurring payments limitations in the Express Checkout integration guide before you get started.
For background information, see:

	1 Apps 101 — For API credentials and endpoints.
	2 Express Checkout Introduction

Note: Below are samples that contain parameters for POST requests.
Step 1: Set Up the Payment Authorization
============================================================
============================================================
Limitations

The current release of the Recurring Payments API has the following limitations:

	1 A profile can have, at most, one optional trial period and a single regular payment period.
	2 The profile start date may not be earlier than the profile creation date.

Recurring Payments with Express Checkout also has the following limitations:

	1 A buyer's PayPal account must include an active credit card. 
		If not, you cannot create a recurring payments profile for the buyer.
	2 Recurring payments cannot be created for buyers in Germany or China. 
		In this case, you can use reference transactions as an alternate solution.
	3 You can create a maximum of 10 recurring payments profiles during checkout.
	4 You can increase the profile amount by only 20% in each 180-day interval after you create the profile.

============================================================
============================================================
Term	Definition
====	==========
Recurring payments profile	
	Your record of a recurring transaction for a single buyer. 
	The profile includes all information required to automatically bill the buyer a fixed amount of money at a fixed interval.
Billing cycle	
	Make one payment per billing cycle. Each billing cycle has 2 components:
The billing period 
	specifies the unit to calculate the billing cycle (such as days or months).
The billing frequency 
	specifies the number of billing periods that make up the billing cycle.
	For example, if the billing period is Month and the billing frequency is 2, the billing cycle is 2 months. 
	If the billing period is Week and the billing frequency is 6, PayPal schedules the payments every 6 weeks.
Regular payment period	
	The main subscription period for this profile, which defines a payment amount for each billing cycle. 
	The regular payment period begins after the trial period, if you specify a trial period for the profile.
Trial period	
	An optional subscription period before the regular payment period begins. 
	A trial period cannot have the same billing cycles and payment amounts as the regular payment period.
Payment amount	
	The amount the buyer pays for each billing cycle.
Outstanding balance
	If a payment fails for any reason, PayPal adds that amount to the profile's outstanding balance.
Profile ID	
	An alphanumeric string (generated by PayPal) that uniquely identifies a recurring profile. 
	You can specify the Profile ID in the TransactionSearch API operation to obtain all payments associated 
	with the identified profile.
============================================================
============================================================
Billing the Outstanding Amount
	If a payment fails for any reason, PayPal adds the billing amount (including shipping and tax, if applicable) 
	to the profile's outstanding balance. Use the AUTOBILLOUTAMT field in the CreateRecurringPaymentsProfile request 
	to specify whether PayPal should add the outstanding amount to the payment amount for the next billing cycle. 
	Whether or not you choose to include the outstanding amount with the payment for the next billing cycle, 
	you can also use the BillOutstandingAmount API to programmatically collect that amount at any time.
============================================================
============================================================
